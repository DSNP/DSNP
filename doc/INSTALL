REQUIREMENTS FOR INSTALLATION 
=============================

1. You must have root privileges on your system. You need to be able to install
   a new service.

2. Apache with mod_ssl, mod_php and mod_rewrite installed. The mod_rewrite
   module must be configured to work in .htaccess files.

3. You need to have mysql server, the mysql client library, and the mysql
   module for php installed. You need the ability to create new databases
   and users.

4. You need the openssl development package installed on your system.

5. You need xinetd (or similar) installed.

6. If you are building from the source repository, you need Ragel installed.

UBUNTU PACKAGES
===============

If you are running ubuntu, install these packages:

    mysql-server mysql-client libmysqlclient-dev libssl-dev libapache2-mod-php5
    xinetd php5-mysql

Make sure the following modules are enabled:

    a2enmod rewrite 
    a2enmod php5
    a2enmod ssl

REQUIREMENTS FOR EACH SITE
==========================

You must have an SSL certificate for site you wish to host. This is a
requirement of the DSNP protocol. The SSL cert will be used to protect pages
that are served by apache and it will be used by the DSNP daemon when it serves
up public keys.

You should also have a recapcha key for each site you wish to host. This will
be used on the new-user page, as well as the friend-request page.

SYSTEM INSTALL INSTRUCTIONS
===========================

In the default setup, dsnpd is run from xinetd. Since both dsnpd and the
webserver need to access the same set of files, it is convenient to run dsnpd
as the web server user.

First configure, make and make install. 

   $ ./configure --prefix=PREFIX
   $ make
   $ make install

The system install instructions need to followed only once. Use the init-system
script to generate the instructions, then follow them.

$ PREFIX/share/dsnp/init-system /tmp/system

SITE INSTALL INSTRUCTIONS
=========================

You can run more than one site on a single system. Each site has it's own
database. To add a site to the system first run the new-site script. This
script will ask you for site name, URI, and database credentials. It will then
generate various config and script fragments to help you install the new site.
Run it, then follow the instructions.

$ PREFIX/share/dsnp/new-site /tmp/site-name
