REQUIREMENTS for INSTALLATION 
=============================

1. You must have root privileges on your system. You need to be able to install
   a new service.

2. Apache with mod_ssl, mod_php and mod_rewrite installed. The mod_rewrite
   module must be configured to work in .htaccess files.

3. You need to have mysql server, the mysql client library, and the mysql
   module for php installed. You need the ability to create new databases
   and users.

4. You need the openssl development package installed on your system.

5. You need xinetd (or similar) installed.

6. If you are building from the source repository, you need Ragel installed.


SYSTEM INSTALL INSTRUCTIONS
===========================

1. Configure, make and install. 

   $ ./configure --prefix=PREFIX
   $ make
   $ make install

2. Ensure that the data and log directories are writable by the user that the
   webserver runs as.

   $ chown www-data:www-data PREFIX/var/lib/dsnp
   $ chown www-data:www-data PREFIX/var/log/dsnp

3. Add an entry for DSNP to /etc/services. 

   # Local services
   dsnp            7085/tcp

4. Install xinetd. Add a config fragment for DSNPd. Run the server using the
   webserver user. You may wish to adjust the limits.

   service dsnp
   {
       disable          = no
       socket_type      = stream
       protocol         = tcp
       wait             = no
       user             = www-data
       instances        = 500
       per_source       = 500
       cps              = 1000 1
       server           = PREFIX/bin/dsnpd
   }

5. Install a logrotate fragment.

   PREFIX/var/log/dsnp/*.log {
       weekly
       missingok
       rotate 26
       compress
       delaycompress
       notifempty
       create 640 www-data www-data
   }

SITE INSTALL INSTRUCTIONS
=========================

You can run more than one site on a single system. Each site has it's own
database. To add a site to the system run the new-site script. This script will
ask you for site name, URI, and database credentials. It will then generate
instructions, config fragments and various script fragments to install the new
site. Run it, then follow the instructions.

$ PREFIX/share/dsnp/new-site /tmp/instructions
